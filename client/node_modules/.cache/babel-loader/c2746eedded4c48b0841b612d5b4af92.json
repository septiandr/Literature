{"ast":null,"code":"var _jsxFileName = \"D:\\\\pelatihan\\\\batch 27\\\\Literature\\\\client\\\\src\\\\screen\\\\add-literature\\\\add-literature.js\",\n    _s = $RefreshSig$();\n\nimport './add-literature.css';\nimport Navbar from '../../components/navbar';\nimport { useState } from 'react';\nimport { API } from '../../config/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AddLiterature() {\n  _s();\n\n  const [preview, setPreview] = useState(null);\n  const [form, setForm] = useState({\n    title: '',\n    publication_date: '',\n    pages: '',\n    isbn: '',\n    author: '',\n    status: 'waiting to be verified',\n    image: ''\n  });\n\n  const handleChange = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.type === \"file\" ? e.target.files : e.target.value\n    }); // Create image url for preview\n\n    if (e.target.type === \"file\") {\n      let url = URL.createObjectURL(e.target.files[0]);\n      setPreview(url);\n    }\n  };\n\n  const handleSubmit = async e => {\n    try {\n      var _form$image$;\n\n      e.preventDefault();\n      const config = {\n        headers: {\n          \"Content-type\": \"multipart/form-data\"\n        }\n      };\n      const formData = new FormData();\n      formData.set(\"title\", form.title);\n      formData.set(\"publication_date\", form.publication_date);\n      formData.set(\"pages\", form.pages);\n      formData.set(\"isbn\", form.isbn);\n      formData.set(\"author\", form.author);\n      formData.set(\"image\", form === null || form === void 0 ? void 0 : form.image[0], form === null || form === void 0 ? void 0 : (_form$image$ = form.image[0]) === null || _form$image$ === void 0 ? void 0 : _form$image$.name);\n      const response = await API.post('/literature', formData, config);\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"title-addLiterature\",\n        children: \"Add Literature\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"addLiterature\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"title\",\n          placeholder: \"Title\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 77\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"publication_date\",\n          placeholder: \"Publication Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 87\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"pages\",\n          placeholder: \"Pages\",\n          type: \"Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 79\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"isbn\",\n          placeholder: \"ISBN\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 75\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"author\",\n          placeholder: \"Author, Ex : E E Rizky, Astina Haris\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 109\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"input-file\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"input\",\n            children: [\"Attache book file \", /*#__PURE__*/_jsxDEV(\"img\", {\n              src: require('../../assets/Frame 1.png').default\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 58\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"input\",\n            type: \"file\",\n            hidden: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 66\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: preview,\n            style: {\n              maxWidth: \"150px\",\n              maxHeight: \"150px\",\n              objectFit: \"cover\"\n            },\n            alt: \"preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          id: \"btn-addLiterature\",\n          children: \"Add Literature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddLiterature, \"7FU2LGizMdNOAynelqLY5uKxTc0=\");\n\n_c = AddLiterature;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddLiterature\");","map":{"version":3,"sources":["D:/pelatihan/batch 27/Literature/client/src/screen/add-literature/add-literature.js"],"names":["Navbar","useState","API","AddLiterature","preview","setPreview","form","setForm","title","publication_date","pages","isbn","author","status","image","handleChange","e","target","name","type","files","value","url","URL","createObjectURL","handleSubmit","preventDefault","config","headers","formData","FormData","set","response","post","console","log","error","require","default","maxWidth","maxHeight","objectFit"],"mappings":"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","sourcesContent":["import './add-literature.css'\r\nimport Navbar from '../../components/navbar'\r\nimport { useState } from 'react'\r\nimport { API } from '../../config/api'\r\n\r\nexport default function AddLiterature(){\r\n    const [preview, setPreview] = useState(null)\r\n    const [form,setForm]=useState({\r\n        title:'',\r\n        publication_date:'',\r\n        pages:'',\r\n        isbn:'',\r\n        author:'',\r\n        status:'waiting to be verified',\r\n        image:''\r\n    })\r\n    const handleChange=(e)=>{\r\n        setForm({\r\n            ...form,\r\n            [e.target.name]: e.target.type === \"file\" ? e.target.files : e.target.value,\r\n        });\r\n      \r\n        // Create image url for preview\r\n        if (e.target.type === \"file\") {\r\n      \r\n          let url = URL.createObjectURL(e.target.files[0]);\r\n          setPreview(url);\r\n        }\r\n    }\r\n    const handleSubmit =async (e)=>{\r\n        try {\r\n            e.preventDefault()\r\n            const config ={\r\n                headers:{\r\n                    \"Content-type\":\"multipart/form-data\"\r\n                }\r\n            }\r\n         \r\n            const formData = new FormData();\r\n            formData.set(\"title\", form.title);\r\n            formData.set(\"publication_date\", form.publication_date);\r\n            formData.set(\"pages\", form.pages);\r\n            formData.set(\"isbn\", form.isbn);\r\n            formData.set(\"author\", form.author);\r\n            formData.set(\"image\", form?.image[0], form?.image[0]?.name);\r\n            \r\n           \r\n            const response = await API.post('/literature',formData,config)\r\n            console.log(response)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n\r\n    return(\r\n        <>\r\n            <Navbar/>\r\n            <div>\r\n                <h1 id=\"title-addLiterature\">Add Literature</h1>\r\n                <form id=\"addLiterature\">\r\n                <input name=\"title\" placeholder=\"Title\" type=\"text\"></input><br/>\r\n                <input name=\"publication_date\" placeholder=\"Publication Date\"></input><br/>\r\n                <input name=\"pages\" placeholder=\"Pages\" type=\"Number\"></input><br/>\r\n                <input name=\"isbn\" placeholder=\"ISBN\" type=\"text\"></input><br/>\r\n                <input name=\"author\" placeholder=\"Author, Ex : E E Rizky, Astina Haris\" type=\"text\"></input><br/>\r\n                <div id=\"input-file\">\r\n                    <label for=\"input\">Attache book file <img src={require('../../assets/Frame 1.png').default}/></label>\r\n                    <input id=\"input\" type=\"file\" hidden></input><br/>\r\n                    <img src={preview} style={{maxWidth: \"150px\",maxHeight: \"150px\", objectFit: \"cover\"}}alt=\"preview\"/>\r\n                </div>\r\n                <button type=\"submit\" id=\"btn-addLiterature\">Add Literature</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}