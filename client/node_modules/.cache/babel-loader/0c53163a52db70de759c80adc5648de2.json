{"ast":null,"code":"var _jsxFileName = \"D:\\\\pelatihan\\\\batch 27\\\\Literature\\\\client\\\\src\\\\screen\\\\add-literature\\\\add-literature.js\",\n    _s = $RefreshSig$();\n\nimport './add-literature.css';\nimport Navbar from '../../components/navbar';\nimport { useState } from 'react';\nimport { API } from '../../config/api';\nimport { useHistory } from 'react-router-dom';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\nexport default function AddLiterature() {\n  _s();\n\n  let history = useHistory();\n  const [preview, setPreview] = useState(null);\n  const [form, setForm] = useState({\n    title: '',\n    publication_date: '',\n    pages: '',\n    isbn: '',\n    author: '',\n    status: 'Waiting to be verified',\n    image: '',\n    idUser: 0\n  });\n\n  const handleChange = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.type === \"file\" ? e.target.files : e.target.value\n    }); // Create image url for preview\n\n    if (e.target.type === \"file\") {\n      let url = URL.createObjectURL(e.target.files[0]);\n      setPreview(url);\n    }\n  };\n\n  const handleSubmit = async e => {\n    try {\n      e.preventDefault();\n      const isLogin = sessionStorage.getItem('user');\n      const config = {\n        headers: {\n          \"Content-type\": \"multipart/form-data\"\n        }\n      };\n      const formData = new FormData();\n      formData.set(\"title\", form.title);\n      formData.set(\"publication_date\", form.publication_date);\n      formData.set(\"pages\", form.pages);\n      formData.set(\"isbn\", form.isbn);\n      formData.set(\"author\", form.author);\n      formData.set(\"status\", form.status);\n      formData.set(\"idUser\", isLogin);\n      formData.append(\"image\", form.image[0]);\n      const response = await API.post('/literature', formData, config);\n      console.log(response);\n      history.push('/profile');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"title-addLiterature\",\n        children: \"Add Literature\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"addLiterature\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"title\",\n          placeholder: \"Title\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 101\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          type: \"date\",\n          name: \"publication_date\",\n          placeholder: \"Publication Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 123\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"pages\",\n          placeholder: \"Pages\",\n          type: \"Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 103\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"isbn\",\n          placeholder: \"ISBN\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 99\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"author\",\n          placeholder: \"Author, Ex : E E Rizky, Astina Haris\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 133\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"pdf-preview\",\n          children: /*#__PURE__*/_jsxDEV(Document, {\n            file: preview,\n            children: /*#__PURE__*/_jsxDEV(Page, {\n              pageNumber: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"input-file\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"input\",\n            children: [\"Attache book file \", /*#__PURE__*/_jsxDEV(\"img\", {\n              src: require('../../assets/Frame 1.png').default\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 58\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            id: \"input\",\n            name: \"image\",\n            accept: \".pdf\",\n            type: \"file\",\n            hidden: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 117\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          id: \"btn-addLiterature\",\n          children: \"Add Literature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddLiterature, \"BngVofs5rbjkFZiTd511mA6H/b0=\", false, function () {\n  return [useHistory];\n});\n\n_c = AddLiterature;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddLiterature\");","map":{"version":3,"sources":["D:/pelatihan/batch 27/Literature/client/src/screen/add-literature/add-literature.js"],"names":["Navbar","useState","API","useHistory","Document","Page","pdfjs","GlobalWorkerOptions","workerSrc","version","AddLiterature","history","preview","setPreview","form","setForm","title","publication_date","pages","isbn","author","status","image","idUser","handleChange","e","target","name","type","files","value","url","URL","createObjectURL","handleSubmit","preventDefault","isLogin","sessionStorage","getItem","config","headers","formData","FormData","set","append","response","post","console","log","push","error","require","default"],"mappings":"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","sourcesContent":["import './add-literature.css'\r\nimport Navbar from '../../components/navbar'\r\nimport { useState } from 'react'\r\nimport { API } from '../../config/api'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Document, Page,pdfjs } from 'react-pdf';\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\nexport default function AddLiterature(){\r\n    let history = useHistory()\r\n    const [preview, setPreview] = useState(null)\r\n    const [form,setForm]=useState({\r\n        title:'',\r\n        publication_date:'',\r\n        pages:'',\r\n        isbn:'',\r\n        author:'',\r\n        status:'Waiting to be verified',\r\n        image:'',\r\n        idUser:0,\r\n    })\r\n    const handleChange=(e)=>{\r\n        setForm({\r\n            ...form,\r\n            [e.target.name]: e.target.type === \"file\" ? e.target.files : e.target.value,\r\n        });\r\n      \r\n        // Create image url for preview\r\n        if (e.target.type === \"file\") {\r\n      \r\n          let url = URL.createObjectURL(e.target.files[0]);\r\n          setPreview(url);\r\n        }\r\n    }\r\n    const handleSubmit =async (e)=>{\r\n        try {\r\n            e.preventDefault()\r\n            const isLogin = sessionStorage.getItem('user')\r\n            const config ={\r\n                headers:{\r\n                    \"Content-type\":\"multipart/form-data\"\r\n                }\r\n            }\r\n            const formData = new FormData();\r\n            formData.set(\"title\", form.title);\r\n            formData.set(\"publication_date\", form.publication_date);\r\n            formData.set(\"pages\", form.pages);\r\n            formData.set(\"isbn\", form.isbn);\r\n            formData.set(\"author\", form.author);\r\n            formData.set(\"status\", form.status);\r\n            formData.set(\"idUser\", isLogin);\r\n            formData.append(\"image\", form.image[0])\r\n          \r\n            const response = await API.post('/literature',formData,config)\r\n            console.log(response)\r\n            history.push('/profile')\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n\r\n    return(\r\n        <>\r\n            <Navbar/>\r\n            <div>\r\n                <h1 id=\"title-addLiterature\">Add Literature</h1>\r\n                <form id=\"addLiterature\" onSubmit={handleSubmit}>\r\n                <input onChange={handleChange} name=\"title\" placeholder=\"Title\" type=\"text\"></input><br/>\r\n                <input onChange={handleChange} type=\"date\" name=\"publication_date\" placeholder=\"Publication Date\"></input><br/>\r\n                <input onChange={handleChange} name=\"pages\" placeholder=\"Pages\" type=\"Number\"></input><br/>\r\n                <input onChange={handleChange} name=\"isbn\" placeholder=\"ISBN\" type=\"text\"></input><br/>\r\n                <input onChange={handleChange} name=\"author\" placeholder=\"Author, Ex : E E Rizky, Astina Haris\" type=\"text\"></input><br/>\r\n                <div id=\"pdf-preview\">\r\n                    <Document  file={preview} >\r\n                        <Page   pageNumber={1} />\r\n                    </Document> \r\n                </div>\r\n\r\n                <div id=\"input-file\">\r\n                    <label for=\"input\">Attache book file <img src={require('../../assets/Frame 1.png').default}/></label>\r\n                    <input onChange={handleChange} id=\"input\" name=\"image\" accept=\".pdf\" type=\"file\" hidden></input><br/>\r\n                   \r\n                </div>\r\n                <button type=\"submit\" id=\"btn-addLiterature\">Add Literature</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}