{"ast":null,"code":"var _jsxFileName = \"D:\\\\pelatihan\\\\batch 27\\\\Literature\\\\client\\\\src\\\\screen\\\\add-literature\\\\add-literature.js\",\n    _s = $RefreshSig$();\n\nimport './add-literature.css';\nimport Navbar from '../../components/navbar';\nimport { useState } from 'react';\nimport { API } from '../../config/api';\nimport { Viewer } from '@react-pdf-viewer/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AddLiterature() {\n  _s();\n\n  const [preview, setPreview] = useState(null);\n  const [form, setForm] = useState({\n    title: '',\n    publication_date: '',\n    pages: '',\n    isbn: '',\n    author: '',\n    status: 'waiting to be verified',\n    image: '',\n    idUser: 0\n  });\n\n  const handleChange = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.type === \"file\" ? e.target.files : e.target.value\n    }); // Create image url for preview\n\n    if (e.target.type === \"file\") {\n      let url = URL.createObjectURL(e.target.files[0]);\n      setPreview(url);\n    }\n  };\n\n  const handleSubmit = async e => {\n    try {\n      e.preventDefault();\n      const isLogin = sessionStorage.getItem('user');\n      const config = {\n        headers: {\n          \"Content-type\": \"multipart/form-data\"\n        }\n      };\n      const formData = new FormData();\n      formData.set(\"title\", form.title);\n      formData.set(\"publication_date\", form.publication_date);\n      formData.set(\"pages\", form.pages);\n      formData.set(\"isbn\", form.isbn);\n      formData.set(\"author\", form.author);\n      formData.set(\"status\", form.status);\n      formData.set(\"idUser\", isLogin);\n      formData.append(\"image\", form.image[0]);\n      const response = await API.post('/literature', formData, config);\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  console.log(preview);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"title-addLiterature\",\n        children: \"Add Literature\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"addLiterature\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"title\",\n          placeholder: \"Title\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 101\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"publication_date\",\n          placeholder: \"Publication Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 111\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"pages\",\n          placeholder: \"Pages\",\n          type: \"Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 103\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"isbn\",\n          placeholder: \"ISBN\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 99\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"author\",\n          placeholder: \"Author, Ex : E E Rizky, Astina Haris\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 133\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"input-file\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"input\",\n            children: [\"Attache book file \", /*#__PURE__*/_jsxDEV(\"img\", {\n              src: require('../../assets/Frame 1.png').default\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 58\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            id: \"input\",\n            name: \"image\",\n            type: \"file\",\n            hidden: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 103\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: '750px'\n            },\n            children: url ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: '1px solid rgba(0, 0, 0, 0.3)',\n                height: '100%'\n              },\n              children: /*#__PURE__*/_jsxDEV(Viewer, {\n                fileUrl: url\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 62\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                alignItems: 'center',\n                border: '2px dashed rgba(0, 0, 0, .3)',\n                display: 'flex',\n                fontSize: '2rem',\n                height: '100%',\n                justifyContent: 'center',\n                width: '100%'\n              },\n              children: \"Preview area\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          id: \"btn-addLiterature\",\n          children: \"Add Literature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddLiterature, \"BTt9grcYBbgktqLirLAsb0uTL/0=\");\n\n_c = AddLiterature;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddLiterature\");","map":{"version":3,"sources":["D:/pelatihan/batch 27/Literature/client/src/screen/add-literature/add-literature.js"],"names":["Navbar","useState","API","Viewer","AddLiterature","preview","setPreview","form","setForm","title","publication_date","pages","isbn","author","status","image","idUser","handleChange","e","target","name","type","files","value","url","URL","createObjectURL","handleSubmit","preventDefault","isLogin","sessionStorage","getItem","config","headers","formData","FormData","set","append","response","post","console","log","error","require","default","height","border","alignItems","display","fontSize","justifyContent","width"],"mappings":"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","sourcesContent":["import './add-literature.css'\r\nimport Navbar from '../../components/navbar'\r\nimport { useState } from 'react'\r\nimport { API } from '../../config/api'\r\nimport {Viewer} from '@react-pdf-viewer/core'\r\nexport default function AddLiterature(){\r\n    const [preview, setPreview] = useState(null)\r\n    const [form,setForm]=useState({\r\n        title:'',\r\n        publication_date:'',\r\n        pages:'',\r\n        isbn:'',\r\n        author:'',\r\n        status:'waiting to be verified',\r\n        image:'',\r\n        idUser:0,\r\n    })\r\n    const handleChange=(e)=>{\r\n        setForm({\r\n            ...form,\r\n            [e.target.name]: e.target.type === \"file\" ? e.target.files : e.target.value,\r\n        });\r\n      \r\n        // Create image url for preview\r\n        if (e.target.type === \"file\") {\r\n      \r\n          let url = URL.createObjectURL(e.target.files[0]);\r\n          setPreview(url);\r\n        }\r\n    }\r\n    const handleSubmit =async (e)=>{\r\n        try {\r\n            e.preventDefault()\r\n            const isLogin = sessionStorage.getItem('user')\r\n            const config ={\r\n                headers:{\r\n                    \"Content-type\":\"multipart/form-data\"\r\n                }\r\n            }\r\n            const formData = new FormData();\r\n            formData.set(\"title\", form.title);\r\n            formData.set(\"publication_date\", form.publication_date);\r\n            formData.set(\"pages\", form.pages);\r\n            formData.set(\"isbn\", form.isbn);\r\n            formData.set(\"author\", form.author);\r\n            formData.set(\"status\", form.status);\r\n            formData.set(\"idUser\", isLogin);\r\n            formData.append(\"image\", form.image[0])\r\n          \r\n            const response = await API.post('/literature',formData,config)\r\n            console.log(response)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    console.log(preview)\r\n    return(\r\n        <>\r\n            <Navbar/>\r\n            <div>\r\n                <h1 id=\"title-addLiterature\">Add Literature</h1>\r\n                <form id=\"addLiterature\" onSubmit={handleSubmit}>\r\n                <input onChange={handleChange} name=\"title\" placeholder=\"Title\" type=\"text\"></input><br/>\r\n                <input onChange={handleChange} name=\"publication_date\" placeholder=\"Publication Date\"></input><br/>\r\n                <input onChange={handleChange} name=\"pages\" placeholder=\"Pages\" type=\"Number\"></input><br/>\r\n                <input onChange={handleChange} name=\"isbn\" placeholder=\"ISBN\" type=\"text\"></input><br/>\r\n                <input onChange={handleChange} name=\"author\" placeholder=\"Author, Ex : E E Rizky, Astina Haris\" type=\"text\"></input><br/>\r\n                <div id=\"input-file\">\r\n                    <label for=\"input\">Attache book file <img src={require('../../assets/Frame 1.png').default}/></label>\r\n                    <input onChange={handleChange} id=\"input\" name=\"image\" type=\"file\" hidden></input><br/>\r\n                    <div style={{ height: '750px' }}>{url ? (<div style={{border: '1px solid rgba(0, 0, 0, 0.3)',height: '100%', }}>\r\n                     <Viewer fileUrl={url} />\r\n                </div>) : (<div\r\n                    style={{\r\n                        alignItems: 'center',\r\n                        border: '2px dashed rgba(0, 0, 0, .3)',\r\n                        display: 'flex',\r\n                        fontSize: '2rem',\r\n                        height: '100%',\r\n                        justifyContent: 'center',\r\n                        width: '100%',\r\n                    }}>\r\n                    Preview area\r\n                </div>\r\n            )}\r\n        </div>\r\n                </div>\r\n                <button type=\"submit\" id=\"btn-addLiterature\">Add Literature</button>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}